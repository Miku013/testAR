<!DOCTYPE html>
<html>
<head>
  <title>マーカーAR家具</title>
  <script src="https://cdn.jsdelivr.net/npm/aframe@1.4.2/dist/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/ar.js@3.4.2/aframe/build/aframe-ar.min.js"></script>
  <style>
    body { margin: 0; overflow: hidden; }
    #ui {
      position: absolute;
      top: 10px;
      left: 10px;
      background: rgba(255,255,255,0.8);
      padding: 10px;
      z-index: 10;
    }
  </style>
</head>
<body>
  <div id="ui">
    <label>幅(cm): <input id="width" value="100"></label><br>
    <label>奥行(cm): <input id="depth" value="60"></label><br>
    <label>高さ(cm): <input id="height" value="70"></label><br>
    <button onclick="updateBox()">更新</button>
  </div>

  <a-scene embedded arjs>
    <a-marker preset="hiro">
      <a-box id="furniture" position="0 0.35 0" color="#44aa88" opacity="0.6"
             width="1" height="0.7" depth="0.6"></a-box>
    </a-marker>
    <a-entity camera></a-entity>
  </a-scene>

  <script>
    function updateBox() {
      const w = parseFloat(document.getElementById('width').value) / 100;
      const h = parseFloat(document.getElementById('height').value) / 100;
      const d = parseFloat(document.getElementById('depth').value) / 100;
      const box = document.getElementById('furniture');
      box.setAttribute('width', w);
      box.setAttribute('height', h);
      box.setAttribute('depth', d);
      box.setAttribute('position', `0 ${h / 2} 0`);
    }
  </script>
</body>
</html>
